set help = no

# Index page format. Default "%4C %Z %{%b %d} %-15.15L (%?l?%4l&%4c?) %s"
set index_format = "%Z  %(%b %d %R)  %-15.15L  %s"

set sidebar_visible
set sidebar_width = 20
set sidebar_folder_indent                # Indent nested folders
set sidebar_short_path                   # Print only the folder name
set sidebar_format = "%B%?F? ?%* %N"

set folder = ~/mail
set header_cache = ~/.mutt/cache/headers
set message_cachedir = ~/.mutt/cache/bodies
folder-hook . "set read_inc=1000"

set sleep_time=0                  # Don't wait to switch mailboxes
set sort=reverse-date             # Sort newest at top
set sort_aux=last-date-received   # Sorting for threads
set mail_check_stats              # Enables unread counts

set wait_key = no            # Don't require confirmation to get back from shell
set delete                   # When archiving, don't ask for confirmation
set timeout = 60             # Max time waiting for user input before syncing mail
set mail_check = 0           # Minimum time between syncing mail
unset confirmappend          # Seamless archive/move
unset mark_old               # Read/new is enough

source ~/.mutt/dracula.muttrc

bind attach,browser,index       g   noop
bind attach,browser,index       gg  first-entry
bind attach,browser,index       G   last-entry
bind pager                      g   noop
bind pager                      gg  top
bind pager                      G   bottom
bind pager                      k   previous-line
bind pager                      j   next-line

bind attach,browser,pager,index \Cu half-up
bind attach,browser,pager,index \Cd half-down

macro index S "!mbsync -a^M" "Update through mbsync"
macro pager \cb "<enter-command>set pipe_decode = yes<enter>|urlview<enter><enter-command>set pipe_decode = no<enter>" "Call urlview to open links"

# Set personal as the default mailbox
set spoolfile = "+personal/inbox"
source ~/.mutt/accounts/personal

folder-hook personal/* source ~/.mutt/accounts/personal
# folder-hook work/*     source ~/.mutt/accounts/work
